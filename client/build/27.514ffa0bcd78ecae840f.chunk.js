(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"9e00af58b8e9a4791871":function(e,n,t){"use strict";t.r(n);var o,r=t("8af190b70a6bc55c6f1b"),a=t.n(r),c=(t("8a2d1b95e05b6a321e74"),t("a28fc3c963a1d4d1a2e5")),i=t("ab4cb61bcb2dc161defb"),u=t("d7dd51e1bf6bfc2c9c3d"),s=t("3aced5b508e7389026da"),f=t("4a683f0a5e64e66a8eb9"),p=t.n(f),l=t("e75e84896ef00e576197"),d=t.n(l),b=t("e8ffd397c8af46ee3fd6"),y=t.n(b),m=t("26682d5d4df1c4fdd619"),g=t.n(m),h=t("0d329ab684f26e01f269"),v=t.n(h),w=t("adc20f99e57c573c589c"),O=t("d95b0cf107403b178365"),_=t("b4092abb20ebe507ce4c"),j=t("a3c3d69eeb745512366a"),A=t("3a16cc0322e2a723929e"),k=t("d6c5c89ff4a0f771f9c3"),S=t("d733903be61208652859"),x=t("5932430beb0c05240602");function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,n,t,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,c=arguments.length-3;if(n||0===c||(n={children:void 0}),n&&a)for(var i in a)void 0===n[i]&&(n[i]=a[i]);else n||(n=a||{});if(1===c)n.children=r;else if(c>1){for(var u=new Array(c),s=0;s<c;s++)u[s]=arguments[s+3];n.children=u}return{$$typeof:o,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function E(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,n){return(R=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var I=C(S.a,{className:"text-sm"},void 0,C(g.a,{}),"Edit Access"),q=C(v.a,{}),D=function(e){function n(){var e,t,o,r;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return o=this,r=(e=T(n)).call.apply(e,[this].concat(c)),t=!r||"object"!==P(r)&&"function"!==typeof r?N(o):r,B(N(t),"handleSave",function(){t.props.updateAccessRequest(t.props.match.params.id)}),B(N(t),"handleBack",function(){t.props.push("/admin/module-manage")}),B(N(t),"handleAccessUpdate",function(e,n,o){var r=E(t.props.access.Access),a=r.findIndex(function(e){return e.module_id===o&&e.role_id===n});a>-1?r[a].access_type=E(e):r=[].concat(E(r),[{access_type:E(e),module_id:o,role_id:n}]),t.props.setAccessValue({key:"Access",value:r})}),t}var t,o,r;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&R(e,n)}(n,a.a.PureComponent),t=n,(o=[{key:"componentDidMount",value:function(){this.props.loadAccessRequest(this.props.match.params.id)}},{key:"render",value:function(){var e=this,n=this.props,t=(n.classes,n.access),o=t.Roles,r=t.Module,c=t.Access;return C(a.a.Fragment,{},void 0,I,C(x.a,{},void 0,o.map(function(n){var t=c.filter(function(e){return e.role_id===n._id}),o=[];return t.length>0&&(o=E(t[0].access_type)),C("div",{className:"mb-4"},n._id,C("h3",{className:"font-normal"},void 0,n.role_title),C(y.a,{value:o,onChange:function(t,o){return e.handleAccessUpdate(o,n._id,r._id)}},void 0,r.path.map(function(e){return C(d.a,{value:e._id},"".concat(e._id,"-").concat(n._id),e.access_type)})))}),C("button",{className:"shadow w-12 h-12 rounded-full text-white bg-blue absolute pin-b pin-r mr-10 mb-10",onClick:this.handleSave},void 0,q)))}}])&&M(t.prototype,o),r&&M(t,r),n}(),J=Object(O.a)({key:"adminModuleManage",reducer:_.a}),U=Object(w.a)({key:"adminModuleManage",saga:j.a}),$=Object(c.b)({access:Object(A.a)()}),F=Object(u.connect)($,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){B(e,n,t[n])})}return e}({},k,{push:s.push})),L=p()(function(e){return{paper:B({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:3*e.spacing.unit,marginLeft:e.spacing.unit},toggleContainer:{height:56,padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px"),display:"flex",alignItems:"center",justifyContent:"flex-start",margin:"".concat(e.spacing.unit,"px 0"),background:e.palette.background.default}}});n.default=Object(i.compose)(J,U,F,L)(D)}}]);