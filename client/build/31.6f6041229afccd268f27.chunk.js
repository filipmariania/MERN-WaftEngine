(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"9e00af58b8e9a4791871":function(e,n,t){"use strict";t.r(n);var a,o=t("8af190b70a6bc55c6f1b"),r=t.n(o),c=(t("8a2d1b95e05b6a321e74"),t("a28fc3c963a1d4d1a2e5")),i=t("ab4cb61bcb2dc161defb"),u=t("d7dd51e1bf6bfc2c9c3d"),s=t("3aced5b508e7389026da"),f=t("4a683f0a5e64e66a8eb9"),p=t.n(f),l=t("2aea235afd5c55b8b19b"),d=t.n(l),b=t("b02fe3f80d4238b52f20"),y=t.n(b),m=t("921c0b8c557fe6ba5da8"),g=t.n(m),h=t("e75e84896ef00e576197"),v=t.n(h),O=t("e8ffd397c8af46ee3fd6"),_=t.n(O),w=t("adc20f99e57c573c589c"),j=t("d95b0cf107403b178365"),k=t("b4092abb20ebe507ce4c"),A=t("a3c3d69eeb745512366a"),S=t("3a16cc0322e2a723929e"),P=t("d6c5c89ff4a0f771f9c3");function x(e){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,n,t,o){a||(a="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,c=arguments.length-3;if(n||0===c||(n={children:void 0}),n&&r)for(var i in r)void 0===n[i]&&(n[i]=r[i]);else n||(n=r||{});if(1===c)n.children=o;else if(c>1){for(var u=new Array(c),s=0;s<c;s++)u[s]=arguments[s+3];n.children=u}return{$$typeof:a,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function M(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,n){return(N=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var I=C(g.a,{component:"h1",variant:"h4",align:"center"},void 0,"Edit Module Access"),q=function(e){function n(){var e,t,a,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return a=this,o=(e=T(n)).call.apply(e,[this].concat(c)),t=!o||"object"!==x(o)&&"function"!==typeof o?B(a):o,R(B(t),"handleSave",function(){t.props.updateAccessRequest(t.props.match.params.id)}),R(B(t),"handleBack",function(){t.props.push("/admin/module-manage")}),R(B(t),"handleAccessUpdate",function(e,n,a){var o=M(t.props.access.Access),r=o.findIndex(function(e){return e.module_id===a&&e.role_id===n});r>-1?o[r].access_type=M(e):o=[].concat(M(o),[{access_type:M(e),module_id:a,role_id:n}]),t.props.setAccessValue({key:"Access",value:o})}),t}var t,a,o;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&N(e,n)}(n,r.a.PureComponent),t=n,(a=[{key:"componentDidMount",value:function(){this.props.loadAccessRequest(this.props.match.params.id)}},{key:"render",value:function(){var e=this,n=this.props,t=n.classes,a=n.access,o=a.Roles,r=a.Module,c=a.Access;return C(y.a,{className:t.paper},void 0,I,o.map(function(n){var t=c.filter(function(e){return e.role_id===n._id}),a=[];return t.length>0&&(a=M(t[0].access_type)),C("div",{},n._id,C(g.a,{component:"h3",variant:"h5"},void 0,n.role_title),C(_.a,{value:a,onChange:function(t,a){return e.handleAccessUpdate(a,n._id,r._id)}},void 0,r.path.map(function(e){return C(v.a,{value:e._id},"".concat(e._id,"-").concat(n._id),e.access_type)})))}),C("div",{className:t.buttons},void 0,C(d.a,{onClick:this.handleBack,className:t.button},void 0,"Back"),C(d.a,{variant:"contained",color:"primary",onClick:this.handleSave,className:t.button},void 0,"Save")))}}])&&E(t.prototype,a),o&&E(t,o),n}(),D=Object(j.a)({key:"adminModuleManage",reducer:k.a}),J=Object(w.a)({key:"adminModuleManage",saga:A.a}),U=Object(c.b)({access:Object(S.a)()}),$=Object(u.connect)(U,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){R(e,n,t[n])})}return e}({},P,{push:s.push})),L=p()(function(e){return{paper:R({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:3*e.spacing.unit,marginLeft:e.spacing.unit},toggleContainer:{height:56,padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px"),display:"flex",alignItems:"center",justifyContent:"flex-start",margin:"".concat(e.spacing.unit,"px 0"),background:e.palette.background.default}}});n.default=Object(i.compose)(D,J,$,L)(q)}}]);