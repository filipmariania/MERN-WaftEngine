(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{e9ab74f075bb5c151c8e:function(e,n,t){"use strict";t.r(n);var o,a=t("8af190b70a6bc55c6f1b"),r=t.n(a),i=(t("8a2d1b95e05b6a321e74"),t("a28fc3c963a1d4d1a2e5")),c=t("e95a63b25fb92ed15721"),l=t("ab4cb61bcb2dc161defb"),d=t("d7dd51e1bf6bfc2c9c3d"),u=t("3aced5b508e7389026da"),f=t("4a683f0a5e64e66a8eb9"),p=t.n(f),s=t("adc20f99e57c573c589c"),b=t("d95b0cf107403b178365"),m=t("c7fd554010f79f6c0ef8"),y=t.n(m),h=t("435859b6b76fb67a754a"),g=t.n(h),v=t("f8286fe65ca06bcb51b6"),O=t.n(v),S=t("e63d4adcf4e70dde54c8"),w=t.n(S),j=t("1ae545a61fbc5b2d4bdd"),k=t.n(j),C=t("679413333d88bed60c6f"),P=t.n(C),_=t("e727e731a9bed8ec3c2a"),x=t.n(_),I=t("1551459233b95bf53af9"),A=t.n(I),R=t("eb6b79030a47f0b10efc"),E=t.n(R),M=t("2aea235afd5c55b8b19b"),K=t.n(M),T=t("e799c547a20a503b338f"),B=t.n(T),V=t("e9cb1a74b44c7bf473df"),W=t.n(V),q=t("6542cd13fd5dd1bcffd4"),N=t("a72b40110d9c31c9b5c5"),$=t("fcb99a06256635f70435");function z(e){return(z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,n){return!n||"object"!==z(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,n){return(F=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var G,H=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),L(this,J(n).apply(this,arguments))}var t,a,i;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&F(e,n)}(n,r.a.PureComponent),t=n,(a=[{key:"componentDidMount",value:function(){this.props.mediaObj[this.props.mediaKey]||this.props.loadMedia(this.props.mediaKey)}},{key:"render",value:function(){var e=this.props.mediaObj;if(!e[this.props.mediaKey])return null;var n=e[this.props.mediaKey];return function(e,n,t,a){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(n||0===i||(n={children:void 0}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=a;else if(i>1){for(var l=new Array(i),d=0;d<i;d++)l[d]=arguments[d+3];n.children=l}return{$$typeof:o,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}("img",{src:"".concat($.f).concat(n.path),style:{maxWidth:200,maxHeight:200},alt:"slider media"})}}])&&D(t.prototype,a),i&&D(t,i),n}(),Q=Object(i.b)({mediaObj:Object(q.b)()}),U=Object(d.connect)(Q,function(e){return{loadMedia:function(n){return e(Object(N.e)(n))}}}),X=Object(l.compose)(U)(H),Y=t("85c24bcc95646286e9a2"),Z=t("6424f72d993ebdad42a7"),ee=t("33729f47d88984a8379f"),ne=t("a8449c895147ff26204c");function te(e){return(te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,n,t,o){G||(G="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,r=arguments.length-3;if(n||0===r||(n={children:void 0}),n&&a)for(var i in a)void 0===n[i]&&(n[i]=a[i]);else n||(n=a||{});if(1===r)n.children=o;else if(r>1){for(var c=new Array(r),l=0;l<r;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:G,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function ae(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function re(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,n){return(le=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function de(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ue=oe(E.a,{id:"form-dialog-title"},void 0,"Select Media"),fe=oe(w.a,{color:"primary",title:"Slider",subheader:"Slider info"}),pe=oe(W.a,{}),se=function(e){function n(){var e,t,o,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return o=this,a=(e=ie(n)).call.apply(e,[this].concat(i)),t=!a||"object"!==te(a)&&"function"!==typeof a?ce(o):a,de(ce(t),"state",{open:!1,index:-1}),de(ce(t),"handleOpen",function(){t.setState({open:!0})}),de(ce(t),"handleClose",function(){t.setState({open:!1})}),de(ce(t),"handleChange",function(e){return function(n){n.persist(),t.props.setOneValue({key:e,value:n.target.value})}}),de(ce(t),"handleImageCaptionChange",function(e){return function(n){n.persist();var o=ae(t.props.one.images);o[e].caption=n.target.value,t.props.setOneValue({key:"images",value:o})}}),de(ce(t),"handleImageImageChange",function(e){var n=ae(t.props.one.images);n[t.state.index].image=e,t.props.setOneValue({key:"images",value:n}),t.setState({open:!1,index:-1})}),de(ce(t),"handleAddSlide",function(){var e=ae(t.props.one.images);t.props.setOneValue({key:"images",value:[{image:"",caption:""}].concat(ae(e))})}),de(ce(t),"handleRemoveSlide",function(e){var n=ae(t.props.one.images);t.props.setOneValue({key:"images",value:[].concat(ae(n.slice(0,e)),ae(n.slice(e+1)))})}),de(ce(t),"handleSetImage",function(e){return function(){t.setState({open:!0,index:e})}}),de(ce(t),"handleGoBack",function(){t.props.push("/admin/slider-manage")}),de(ce(t),"handleSave",function(){t.props.addEditRequest()}),de(ce(t),"handleImagePagination",function(e){t.props.loadMediaRequest(e)}),t}var t,o,a;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&le(e,n)}(n,r.a.PureComponent),t=n,(o=[{key:"componentDidMount",value:function(){this.props.match.params&&this.props.match.params.id&&this.props.loadOneRequest(this.props.match.params.id),this.props.loadMediaRequest()}},{key:"render",value:function(){var e=this,n=this.props,t=n.one,o=n.classes,a=n.media,i=Math.ceil(a.totaldata/a.size),c=1===a.page,l=a.page===i;return r.a.createElement(r.a.Fragment,null,oe(x.a,{className:o.modal,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},void 0,oe("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #ccc",marginBottom:"20px"}},void 0,ue,oe("div",{},void 0," ",!c&&oe(K.a,{size:"small",color:"primary",onClick:function(){return e.handleImagePagination({page:a.page-1})}},void 0,"Prev"),!l&&oe(K.a,{size:"small",color:"primary",onClick:function(){return e.handleImagePagination({page:a.page+1})}},void 0,"Next"))),oe(A.a,{},void 0,a.data.map(function(n){return oe("div",{className:o.media,onClick:function(){return e.handleImageImageChange(n._id)}},n._id,oe("img",{src:"".concat($.f).concat(n.path),alt:n.caption}))}))),oe(O.a,{},void 0,fe,oe(k.a,{},void 0,oe("div",{},void 0,oe(y.a,{variant:"outlined",name:"slider_name",id:"slider-name",fullWidth:!0,margin:"normal",label:"Slider Name",InputLabelProps:{shrink:!0},inputProps:{value:t.slider_name,onChange:this.handleChange("slider_name")}})),oe("div",{},void 0,oe(y.a,{variant:"outlined",name:"slider_key",id:"slider-key",fullWidth:!0,margin:"normal",label:"Slider Key",InputLabelProps:{shrink:!0},inputProps:{value:t.slider_key,onChange:this.handleChange("slider_key")}})),oe(K.a,{variant:"contained",color:"primary",onClick:this.handleAddSlide},void 0,"Add Slide"),t.images.map(function(n,t){return oe("div",{style:{marginTop:20,padding:20,background:"#f0f0f0",borderRadius:"6px"}},"".concat(n._id,"-media-").concat(t),oe(g.a,{container:!0,spacing:24},void 0,oe(g.a,{item:!0,xs:3,style:{textAlign:"center"}},void 0,n.image?oe(X,{mediaKey:n.image,onClick:e.handleSetImage(t)}):oe(K.a,{color:"primary",onClick:e.handleSetImage(t)},void 0,"Add Image")),oe(g.a,{item:!0,xs:7},void 0,oe(y.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:"2",id:"slider-caption-".concat(t),label:"Caption",value:n.caption,onChange:e.handleImageCaptionChange(t),InputLabelProps:{shrink:!0}})),oe(g.a,{item:!0,xs:2},void 0,oe(B.a,{color:"secondary",onClick:function(){return e.handleRemoveSlide(t)}},void 0,pe))))})),oe(P.a,{style:{marginBottom:"100px"}},void 0,oe(K.a,{variant:"contained",color:"primary",onClick:this.handleSave},void 0,"Save"))))}}])&&re(t.prototype,o),a&&re(t,a),n}(),be=p()(function(e){return{modal:{backgroundColor:"#fff",padding:"20"},media:{width:"100px",height:"100px",overflow:"hidden",marginRight:"20px",marginBottom:"20px",borderRadius:"6px",background:"#f0f0f0",display:"inline-block","& > img":{maxWidth:"100%"}}}}),me=Object(b.a)({key:"sliderManagePage",reducer:Y.a}),ye=Object(s.a)({key:"sliderManagePage",saga:Z.a}),he=Object(i.b)({one:Object(ee.c)(),media:Object(ee.b)()}),ge=Object(d.connect)(he,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){de(e,n,t[n])})}return e}({},ne,{push:u.push}));n.default=Object(l.compose)(c.withRouter,be,me,ye,ge)(se)}}]);